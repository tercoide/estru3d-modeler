' Gambas class file

' m-designer
' A simple CAD made in Gambas
'
' Copyright (C) Ing Martin P Cristia
'
' This program is free software; you can redistribute it and/or modify
' it under the terms of the GNU General Public License as published by
' the Free Software Foundation; either version 3 of the License, or
' (at your option) any later version.
'
' This program is distributed in the hope that it will be useful,
' but WITHOUT ANY WARRANTY; without even the implied warranty of
' MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
' GNU General Public License for more details.
'
' You should have received a copy of the GNU General Public License
' along with this program; if not, write to the Free Software
' Foundation, Inc., 51 Franklin St, Fifth Floor,
' Boston, MA  02110-1301  USA

' Represents a concrete slab
' Element maintained by Terco
' V3
Inherits BIMEntityBase
Public Const Gender As String = "SLAB"
Public Const DrawingOrder As Integer = 1        ' 1 = draws first
Public Const PointsToDraw As Integer = 1             ' minimal point requered for drawing something usefull
Public Const OrthogonalIgnored As Boolean = True
Public Const HelperTrabajo As String = ("Insert a slab")
Public Const ParamType As String = "PPF"                             ' that is Point, Point, Float; could be Color Text, etc
Public Const ParamHelper As String = "Start point;End point;Thickness"      ' a little text that is shown at the prompt waiting for user input during build
Public Const ParamDefault As String = " ;  ; 0.08 "
Public Const TotalPoints As Integer = 2

' ESTRU3D
'  + ----------------->X
'  |  P0            P2
'  |  c1------------c2
'  |  |             |        Convencion para la definicion
'  |  |             |        de las losas
'  |  c3------------c4
'  |  P3            P1
'  v Z

Public Sub Draw(B As Entity)                   ' try to make this as fast as possible
    ' FIXME: eliminar variables o argumentos que no se usan
    ' FIXME: requiere reparacion -> OpenGL

    Dim l As Float, angulo As Float

    glPlus.Rectangle2D(b.p[0], b.p[1], b.p[2] - b.p[0], b.p[3] - b.p[1])
    ' veo si esta seleccionada

End

Public Sub CreatePolygon()

    ' this is entity specific

    ' we need 4 points for this

    '        me.p[0],me.p[1] 1+------------+2
    '                   |            |
    '                   |            |
    '                   |            |
    '                   |            |
    '                   |            |
    '                  3+------------+4
    '                                 me.p[2],me.p[3]
    '
    Me.Polygon.Clear
    Me.Polygon.Insert([Me.p[0], Me.p[1], Me.p[2], Me.p[1], Me.p[2], Me.p[3], Me.p[0], Me.p[3]])

End
